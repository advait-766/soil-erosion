\hypertarget{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f}{\section{smoderp2d.\-src.\-stream\-\_\-functions.\-stream\-\_\-f Namespace Reference}
\label{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f}\index{smoderp2d.\-src.\-stream\-\_\-functions.\-stream\-\_\-f@{smoderp2d.\-src.\-stream\-\_\-functions.\-stream\-\_\-f}}
}


Module to calculate the stream reaches runoff.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_a0be76eafc2faa42a7c91ef3af58c4af4}{compute\-\_\-h}
\begin{DoxyCompactList}\small\item\em Newton method to compute water level in trapezoidal reach,. \end{DoxyCompactList}\item 
\hypertarget{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_abc523e971bfc320118a92c0a5358b9a0}{def \hyperlink{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_abc523e971bfc320118a92c0a5358b9a0}{rectangle}}\label{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_abc523e971bfc320118a92c0a5358b9a0}

\begin{DoxyCompactList}\small\item\em Function calculates the discharge in rectangular shaped reach of a stream. \end{DoxyCompactList}\item 
\hypertarget{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_a81a1132058b2a08d068f99bf9e934db9}{def \hyperlink{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_a81a1132058b2a08d068f99bf9e934db9}{trapezoid}}\label{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_a81a1132058b2a08d068f99bf9e934db9}

\begin{DoxyCompactList}\small\item\em Function calculates the discharge in trapezoidal shaped reach of a stream. \end{DoxyCompactList}\item 
\hypertarget{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_a80ffca49de8ec1e85869262bb46fa29c}{def \hyperlink{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_a80ffca49de8ec1e85869262bb46fa29c}{triangle}}\label{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_a80ffca49de8ec1e85869262bb46fa29c}

\begin{DoxyCompactList}\small\item\em Function calculates the discharge in triangular shaped reach of a stream. \end{DoxyCompactList}\item 
\hypertarget{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_ac43bbcb06155e2a19adcab176b0511ae}{def \hyperlink{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_ac43bbcb06155e2a19adcab176b0511ae}{parabola}}\label{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_ac43bbcb06155e2a19adcab176b0511ae}

\begin{DoxyCompactList}\small\item\em Function calculates the discharge in parabola shaped reach of a stream. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_af93ee46218e8b8c2f0807f89f8e1b298}{tuple \hyperlink{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_af93ee46218e8b8c2f0807f89f8e1b298}{frameinfo} = getframeinfo(currentframe())}\label{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_af93ee46218e8b8c2f0807f89f8e1b298}

\begin{DoxyCompactList}\small\item\em Jen na debug, umi to zjistit nazev souboru a radek odkud se\par
 {\itshape print frameinfo.\-filename, frameinfo.\-lineno}\par
 tiskne. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Module to calculate the stream reaches runoff. 

\subsection{Function Documentation}
\hypertarget{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_a0be76eafc2faa42a7c91ef3af58c4af4}{\index{smoderp2d\-::src\-::stream\-\_\-functions\-::stream\-\_\-f@{smoderp2d\-::src\-::stream\-\_\-functions\-::stream\-\_\-f}!compute\-\_\-h@{compute\-\_\-h}}
\index{compute\-\_\-h@{compute\-\_\-h}!smoderp2d::src::stream_functions::stream_f@{smoderp2d\-::src\-::stream\-\_\-functions\-::stream\-\_\-f}}
\subsubsection[{compute\-\_\-h}]{\setlength{\rightskip}{0pt plus 5cm}def smoderp2d.\-src.\-stream\-\_\-functions.\-stream\-\_\-f.\-compute\-\_\-h (
\begin{DoxyParamCaption}
\item[{}]{A, }
\item[{}]{m, }
\item[{}]{b, }
\item[{}]{err = {\ttfamily 0.0001}, }
\item[{}]{max\-Iter = {\ttfamily 20}}
\end{DoxyParamCaption}
)}}\label{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_a0be76eafc2faa42a7c91ef3af58c4af4}


Newton method to compute water level in trapezoidal reach,. 

\[ h_{n+1} = h_{n} - \frac{f(h_n)}{f^{\prime}(h_n)} \] \[ f(h) = bh+mh^2 - A \] \[ f^{\prime}(h) = b+2mh \]

\begin{DoxyReturn}{Returns}
h water level in the trapezoid 
\end{DoxyReturn}


Definition at line 28 of file stream\-\_\-f.\-py.


\begin{DoxyCode}
28 
29 \textcolor{keyword}{def }\hyperlink{namespacesmoderp2d_1_1src_1_1stream__functions_1_1stream__f_a0be76eafc2faa42a7c91ef3af58c4af4}{compute\_h}(A,m,b,err=0.0001,maxIter=20):
30   \textcolor{keyword}{def }feval(h):
31     \textcolor{keywordflow}{return} b*h+m*h*h-A
32   \textcolor{keyword}{def }dfdheval(h):
33     \textcolor{keywordflow}{return} b+2.0*m*h
34   \textcolor{comment}{# prvni odhad vysky}
35   h\_pre = A/b
36   h = h\_pre
37   iter\_ = 1
38   \textcolor{keywordflow}{while} (feval(h\_pre) > err):
39    h = h\_pre - feval(h\_pre)/dfdheval(h\_pre)
40    h\_pre = h
41    \textcolor{keywordflow}{if} iter\_ >= maxIter :
42      prt.error(\textcolor{stringliteral}{"if file"}, frameinfo.filename, \textcolor{stringliteral}{"near line "},frameinfo.lineno, \textcolor{stringliteral}{"\(\backslash\)n\(\backslash\)t newton solver didnt
       converge after"}, maxIter, \textcolor{stringliteral}{'iterations (maxIter='},maxIter,\textcolor{stringliteral}{')'})
43      \textcolor{keywordflow}{break}
44    iter\_ += 1
45   \textcolor{comment}{#print 'check', A, b*h+m*h*h}
46   \textcolor{keywordflow}{return} h
47 
48 

\end{DoxyCode}
